# ref: DOM에 이름 달기

리액트 프로젝트 내부에서 DOM에 이름을 다는 방법 -> ref  
컴포넌트 안에서 id를 사용할 순 있지만, 같은 컴포넌트를 여러 번 사용하면, id가 중복되므로 사용을 지양합니다.  
ref는 전역적으로 동작하지 않고 컴포넌트 내부에서만 작동하기 때문에 이런 문제가 없습니다.  

## ref 사용법

DOM에 ref를 설정할 때 props를 설정하듯이 추가합니다. ref 값으로 콜백함수를 전달하고, 콜백함수는 ref를 파라미터로 가지며, 콜백함수 내부에서 컴포넌트의 멤버 변수에 ref를 담는 코드를 작성합니다.

```js
<input ref={(ref) => {this.input=ref}}></input>
```

## ref 주의사항

컴포넌트에 ref를 추가해서 부모 컴포넌트에서 자식 컴포넌트의 메서드를 호출하는 등의 사용이 가능합니다. 이처럼 ref를 사용하면 특정 컴포넌트, DOM에 대해 편리한 조작이 가능하지만, 주의사항이 있습니다.  

1. 컴포넌트 간 통신에 ref를 사용해서는 안됩니다.
  - 이는 리액트 사상에도 어긋날 뿐만 아니라 스파게티 코드를 만들기 좋은 사용법입니다.(추후 리덕스를 사용해서 효율적으로 컴포넌트 간 데이터 교류)
2. 자식 컴포넌트에 ref를 추가해서 자식 컴포넌트의 메서드를 이벤트 콜백함수로 등록할 때, 새로 함수를 만들어 주는 것이 좋습니다.

```js
<button onClick={this.scrollBox.scrollToBottom}>버튼</button> //해당 코드도 동작하지만 처음 렌더링에서 this.scrollBox가 undefined를 반환하기 때문에 에러 발생
<button onClick={() => this.scrollBox.scrollToBottom()}>버튼</button>
```


